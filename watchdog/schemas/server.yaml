%YAML 1.1
---
"$schema": "http://json-schema.org/draft-06/schema#"
title: Watchdog daemon role
description: |
  Watchdog daemon, server role.
type: object
additionalProperties: false

required:
- enabled

properties:
  enabled:
    description: |
      Enables Watchdog daemon service.
    type: boolean
  timeout:
    description: |
      Seting "watchdog-timer" config parameter placed in /etc/watchdog.conf
    type: number
    minimum: 0
  kernel:
    description: |
      Parameters for the kernel module which are used for loading the kernel module
    type: object
    parameters:
      parameter:
        description: |
          Name of the watchdog kernel module
        type: object
        minProperties: 1
        patternProperties:
          '^[a-z][-a-z0-9_]*$':
            $ref: "#/definitions/_module"

definitions:
  _module:
    description: |
      Watchdog Kernel module parameter
    type: string
    example: "1"
